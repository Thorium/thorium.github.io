<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- 
      The Azure Blob- ja Table Storage
 parameters will be replaced with the 
      document title extracted from the <h1> element or
      file name, if there is no <h1> heading
    -->
    <title>Azure Blob- ja Table Storage
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../content/style.css" />
	<meta name="robots" content="index,follow" />
	<meta name="rating" content="general" />
	<meta name="generator" content="FSharp.Formatting.2.4.2 by Tomas Petricek" />
	<meta name="Author" content="Tuomas Hietanen, 2014" />
    <script src="../content/tips.js" type="text/javascript"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	<style type="text/css" id="custom-background-css">
		body { background-color: #E9E9E9; background-image: url('../content/FStAUS.png'); background-repeat: repeat; background-position: top left; background-attachment: fixed; }
		.container { background-color: #FFFFFF; border: solid 1px #000000; }
	</style>
  </head>
  <body class="bg">
	<a href="http://www.meetup.com/FSharpHelsinki/events/173790412/" target="_blank"><div style="margin: 5px; text-align: center; color:gray;">The Greater Helsinki Area F# User Group<br/></div></a>
    <div class="container">
      <div class="row" style="margin-top:30px">
        <div class="span1"></div>
        <div class="span10" id="main">
          <h1>Azure Blob- ja Table Storage</h1>

<p>Käytetään edellä tehtyä WorkerRole-projektia. Käytämme myös <a href="http://dmohl.github.io/Fog/">Fog</a>-kirjastoa, jossa on tuki Azuren palveluille: Table Storagelle, Blob Storage, Queue Storage, Serice Bus ja Cache.</p>

<p>Ensimmäisenä on lisättävä connectionstringit Azuren storageille. Tämä tapahtuu näin:</p>

<p>Avaa deployment-projektin <strong>ServiceDefinition.csdef</strong> ja lisää sinne settingit: <strong>TableStorageConnectionString</strong> ja <strong>BlobStorageConnectionString</strong>. Nämä voivat emulator-ympäristössä olla tyhjät.</p>

<pre lang="xml"><span class="prep">&lt;?</span>xml version=<span class="s">"1.0"</span> encoding=<span class="s">"utf-8"</span><span class="prep">?&gt;</span>
<span class="k">&lt;</span><span class="i">ServiceDefinition</span> <span class="o">name</span><span class="k">="FSharpAzure"</span> 
<span class="o">xmlns</span><span class="k">="http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceDefinition"</span>
<span class="o">schemaVersion</span><span class="k">="2013-10.2.2"</span><span class="k">&gt;</span>
  <span class="k">&lt;</span><span class="i">WorkerRole</span> <span class="o">name</span><span class="k">="WorkerRole1"</span> <span class="o">vmsize</span><span class="k">="ExtraSmall"</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">Endpoints</span><span class="k">&gt;</span>
      <span class="k">&lt;</span><span class="i">InputEndpoint</span> <span class="o">name</span><span class="k">="Endpoint1"</span> <span class="o">protocol</span><span class="k">="http"</span> <span class="o">port</span><span class="k">="80"</span> <span class="o">localPort</span><span class="k">="80"</span> <span class="k">/&gt;</span>
    <span class="k">&lt;/</span><span class="i">Endpoints</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">Imports</span><span class="k">&gt;</span>
      <span class="k">&lt;</span><span class="i">Import</span> <span class="o">moduleName</span><span class="k">="Diagnostics"</span> <span class="k">/&gt;</span>
    <span class="k">&lt;/</span><span class="i">Imports</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">ConfigurationSettings</span><span class="k">&gt;</span>
      <span class="k">&lt;</span><span class="i">Setting</span> <span class="o">name</span><span class="k">="TableStorageConnectionString"</span> <span class="k">/&gt;</span>
      <span class="k">&lt;</span><span class="i">Setting</span> <span class="o">name</span><span class="k">="BlobStorageConnectionString"</span> <span class="k">/&gt;</span>
    <span class="k">&lt;/</span><span class="i">ConfigurationSettings</span><span class="k">&gt;</span>    
  <span class="k">&lt;/</span><span class="i">WorkerRole</span><span class="k">&gt;</span>
<span class="k">&lt;/</span><span class="i">ServiceDefinition</span><span class="k">&gt;</span></pre>

<p>Muokkaa myös tiedostoja <strong>ServiceConfiguration.Cloud.cscfg</strong> ja <strong>ServiceConfiguration.Local.cscfg</strong> sisältämään vastaavat settingit:</p>

<pre lang="xml"><span class="prep">&lt;?</span>xml version=<span class="s">"1.0"</span> encoding=<span class="s">"utf-8"</span><span class="prep">?&gt;</span>
<span class="k">&lt;</span><span class="i">ServiceConfiguration</span> <span class="o">serviceName</span><span class="k">="FSharpAzure"</span> 
<span class="o">xmlns</span><span class="k">="http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceConfiguration"</span>
<span class="o">osFamily</span><span class="k">="4"</span> <span class="o">osVersion</span><span class="k">="*"</span> <span class="o">schemaVersion</span><span class="k">="2013-10.2.2"</span><span class="k">&gt;</span>
  <span class="k">&lt;</span><span class="i">Role</span> <span class="o">name</span><span class="k">="WorkerRole1"</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">Instances</span> <span class="o">count</span><span class="k">="1"</span> <span class="k">/&gt;</span>
    <span class="k">&lt;</span><span class="i">ConfigurationSettings</span><span class="k">&gt;</span>
      <span class="k">&lt;</span><span class="i">Setting</span> <span class="o">name</span><span class="k">="Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString"</span> 
      <span class="o">value</span><span class="k">="UseDevelopmentStorage=true"</span> <span class="k">/&gt;</span>
      <span class="k">&lt;</span><span class="i">Setting</span> <span class="o">name</span><span class="k">="TableStorageConnectionString"</span> <span class="o">value</span><span class="k">="UseDevelopmentStorage=true"</span> <span class="k">/&gt;</span>
      <span class="k">&lt;</span><span class="i">Setting</span> <span class="o">name</span><span class="k">="BlobStorageConnectionString"</span> <span class="o">value</span><span class="k">="UseDevelopmentStorage=true"</span> <span class="k">/&gt;</span>
    <span class="k">&lt;/</span><span class="i">ConfigurationSettings</span><span class="k">&gt;</span>
  <span class="k">&lt;/</span><span class="i">Role</span><span class="k">&gt;</span>
<span class="k">&lt;/</span><span class="i">ServiceConfiguration</span><span class="k">&gt;</span></pre>

<p>Emulaattorille kelpaa arvo  value="UseDevelopmentStorage=true", mutta tuotannossa tämä connection-string on jotain muuta. Ohjeet siihen löytyy <a href="http://msdn.microsoft.com/library/azure/ee758697.aspx">netistä</a>.</p>

<h3>F-Sharp skripti-tiedostojen käyttö</h3>

<p>Näiden koodien ajaminen toimii interactive-ympäristöstä tiettyyn pisteeseen asti, mutta itse Azuren kutsukoodien suoritus ei. Voit siis lisätä koodien alkuun:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="prep">#if</span> <span class="i">INTERACTIVE</span>
<span class="inactive">#r</span><span class="inactive"> </span><span class="inactive">&quot;../packages/Fog.0.1.4.1/Lib/Net40/Fog.dll&quot;</span>
<span class="inactive">#r</span><span class="inactive"> </span><span class="inactive">&quot;System.Data.Services.Client.dll&quot;</span>
<span class="inactive">#r</span><span class="inactive"> </span><span class="inactive">&quot;Microsoft.WindowsAzure.StorageClient.dll&quot;</span>
<span class="prep">#endif</span></pre>
</td>
</tr>
</table>

<p>Näissä on huomattava se, että NuGet on voinut hakea sinulle eri version komponentista kuin mitä tässä esimerkissä. Joten jos Visual Studio alleviivaa rivin punaisella ja valittaa, että tiedostoa ei löydy, niin tämä voi johtua siitä, että sinulla on eri polussa uudempi versio siitä.
Toinen F#:ssa tyypillinen tapa on lisätä projektiin yksi tiedosto tyyppiä Script File (*.fsx), joka suoritetaan vain interactive-tyylisessä scriptaus-ajoissa, mutta jää itsestään käännöksen ulkopuolelle. Nämä #r:t toimivat myös siellä, ja projektin .fs-tiedoston voi ladata käskyillä:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="prep">#load</span> <span class="s">&quot;</span><span class="s">MyLogics</span><span class="s">.</span><span class="s">fs</span><span class="s">&quot;</span>
<span class="k">open</span> <span class="i">MyLogics</span></pre>
</td>
</tr>
</table>

<h2>Azure Blob Storage</h2>

<p>Blob-storage on simppeli tietovarasto esim. tiedostoja varten. Avaa logiikka"luokka" (=tiedosto) ja lisää siihen seuraava koodi:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">module</span> <span class="i">MyLogics</span>

<span class="k">open</span> <span class="i">Fog</span><span class="o">.</span><span class="i">Storage</span><span class="o">.</span><span class="i">Blob</span>

<span class="k">let</span> <span class="i">containerName</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">testContainer</span><span class="s">&quot;</span>
<span class="k">let</span> <span class="i">blobFileName</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">testBlob</span><span class="s">&quot;</span>
<span class="k">let</span> <span class="i">blob</span> <span class="o">=</span> <span class="i">GetBlobReference</span> <span class="i">containerName</span> <span class="i">blobFileName</span>

<span class="k">let</span> <span class="i">addToBlob</span> <span class="i">text</span> <span class="o">=</span> 
    <span class="i">text</span> <span class="o">|&gt;</span> <span class="i">blob</span><span class="o">.</span><span class="i">UploadText</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">System</span>
<span class="k">open</span> <span class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">Data</span>
<span class="k">let</span> <span class="i">demoData</span> <span class="o">=</span>
    <span class="k">let</span> <span class="i">``scientist of the day ``</span> <span class="o">=</span> 
        <span class="i">FreebaseData</span><span class="o">.</span><span class="i">GetDataContext</span>()<span class="o">.</span><span class="i">Commons</span><span class="o">.</span><span class="i">Computers</span><span class="o">.</span><span class="i">``Computer Scientists``</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">skip</span> <span class="i">DateTime</span><span class="o">.</span><span class="i">Now</span><span class="o">.</span><span class="i">DayOfYear</span> <span class="c">//</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs3', 5)" onmouseover="showTip(event, 'fs3', 5)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="i">head</span>
    <span class="s">&quot;</span><span class="s">Scientist</span><span class="s"> </span><span class="s">of</span><span class="s"> </span><span class="s">the</span><span class="s"> </span><span class="s">day</span><span class="s">:</span><span class="s"> </span><span class="s">&quot;</span> <span class="o">+</span> <span class="i">``scientist of the day ``</span><span class="o">.</span><span class="i">Name</span></pre>
</td>
</tr>
</table>

<p>Nyt voit lisätä kutsun tähän WorkerRole.fs:n wr.OnStart() -metodissa:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="i">MyLogics</span><span class="o">.</span><span class="i">demoData</span> <span class="o">|&gt;</span> <span class="i">MyLogics</span><span class="o">.</span><span class="i">addToBlob</span></pre>
</td>
</tr>
</table>

<p>Kun ajat softan (F5), niin <strong>Server</strong> Explorer:iin (ei Solution Explorer) on (refresh:in jälkeen) ilmestynyt seuraava blobi, jonka voit tupla-klikata auki, jonka blob-listasta voit taas tupla-klikata itse tiedot auki:</p>

<p><img src="1-ServerExplorer.png" alt="" /></p>

<h2>Azure Table Storage</h2>

<p>Azure Table Storage on NoSQL-henkinen tietovarasto.</p>

<p>Ohessa koodiesimerkki sen käyttöön:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span class="i">``Azure dvd table``</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Dvd</span><span class="s">&quot;</span>

[&lt;<span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="i">Measure</span>&gt;]
<span class="k">type</span> <span class="i">stars</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 8)" onmouseover="showTip(event, 'fs1', 8)" class="i">System</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 9)" onmouseover="showTip(event, 'fs1', 9)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 10)" onmouseover="showTip(event, 'fs7', 10)" class="i">Data</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs8', 11)" onmouseover="showTip(event, 'fs8', 11)" class="i">Services</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="i">Common</span>

[&lt;<span class="i">DataServiceKey</span>(<span class="s">&quot;</span><span class="s">PartitionKey</span><span class="s">&quot;</span>, <span class="s">&quot;</span><span class="s">RowKey</span><span class="s">&quot;</span>)&gt;] 
<span class="k">type</span> <span class="i">MyDvdEntity</span>() <span class="o">=</span> 
    <span class="k">member</span> <span class="k">val</span> <span class="i">PartitionKey</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="i">String</span><span class="o">.</span><span class="i">Empty</span> <span class="k">with</span> <span class="i">get</span>, <span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="i">set</span>
    <span class="k">member</span> <span class="k">val</span> <span class="i">RowKey</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 15)" onmouseover="showTip(event, 'fs10', 15)" class="i">String</span><span class="o">.</span><span class="i">Empty</span> <span class="k">with</span> <span class="i">get</span>, <span onmouseout="hideTip(event, 'fs11', 16)" onmouseover="showTip(event, 'fs11', 16)" class="i">set</span>
    <span class="k">member</span> <span class="k">val</span> <span class="i">Timestamp</span> <span class="o">=</span> <span class="i">DateTime</span><span class="o">.</span><span class="i">UtcNow</span> <span class="k">with</span> <span class="i">get</span>, <span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="i">set</span>
    <span class="k">member</span> <span class="k">val</span> <span class="i">Name</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 18)" onmouseover="showTip(event, 'fs10', 18)" class="i">String</span><span class="o">.</span><span class="i">Empty</span> <span class="k">with</span> <span class="i">get</span>, <span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="i">set</span>
    <span class="k">member</span> <span class="k">val</span> <span class="i">Rating</span> <span class="o">=</span> <span class="n">0</span><span class="o">&lt;</span><span class="i">stars</span><span class="o">&gt;</span> <span class="k">with</span> <span class="i">get</span>, <span onmouseout="hideTip(event, 'fs11', 20)" onmouseover="showTip(event, 'fs11', 20)" class="i">set</span>

<span class="k">open</span> <span class="i">Fog</span><span class="o">.</span><span class="i">Storage</span><span class="o">.</span><span class="i">Table</span>

<span class="k">let</span> <span class="i">addDvd</span> <span class="i">name</span> <span class="i">rating</span> <span class="o">=</span> 
        <span class="i">MyDvdEntity</span>(
            <span class="i">PartitionKey</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">myPartition</span><span class="s">&quot;</span>,
            <span class="i">RowKey</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 21)" onmouseover="showTip(event, 'fs1', 21)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 22)" onmouseover="showTip(event, 'fs12', 22)" class="i">Guid</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 23)" onmouseover="showTip(event, 'fs13', 23)" class="i">NewGuid</span>()<span class="o">.</span><span class="i">ToString</span>(<span class="s">&quot;</span><span class="s">N</span><span class="s">&quot;</span>),
            <span class="i">Name</span> <span class="o">=</span> <span class="i">name</span>,
            <span class="i">Rating</span> <span class="o">=</span> <span class="i">rating</span>
        ) <span class="o">|&gt;</span> <span class="i">CreateEntity</span> <span class="i">``Azure dvd table``</span>

<span class="k">let</span> <span class="i">updateDvd</span> <span class="i">dvd</span> <span class="o">=</span> <span class="i">UpdateEntity</span> <span class="i">``Azure dvd table``</span> <span class="i">dvd</span>
<span class="k">let</span> <span class="i">deleteDvd</span> <span class="i">dvd</span> <span class="o">=</span> <span class="i">DeleteEntity</span> <span class="i">``Azure dvd table``</span> <span class="i">dvd</span></pre>
</td>
</tr>
</table>

<p>Varsinainen Table Storage:n <a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd135725.aspx">kyselykieli on varsin suppea</a>. Sen käyttöön Fog-kirjasto ei tarjoa kätevää rajapintaa, joten joudut tekemään asian suoraa Azuren omaa rajapintaa vasten: Referoi <strong>Azure-SDK:n Microsoft.WindowsAzure.StorageClient.dll</strong> (joka löytyy oletuksena polusta: C:\Program Files\Microsoft SDKs\Windows Azure.NET SDK\v2.2\bin\Microsoft.WindowsAzure.StorageClient.dll ).
Edellisen perään lisättynä, tässä mallikoodi kyselyn tekoon:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs14', 24)" onmouseover="showTip(event, 'fs14', 24)" class="i">Microsoft</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs15', 25)" onmouseover="showTip(event, 'fs15', 25)" class="i">WindowsAzure</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 26)" onmouseover="showTip(event, 'fs16', 26)" class="i">StorageClient</span>

<span class="k">let</span> <span class="i">tableClient</span> <span class="o">=</span> <span class="i">BuildTableClient</span>()
<span class="i">``Azure dvd table``</span> <span class="o">|&gt;</span> <span class="i">tableClient</span><span class="o">.</span><span class="i">CreateTableIfNotExist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs17', 27)" onmouseover="showTip(event, 'fs17', 27)" class="i">ignore</span>

<span class="k">let</span> <span class="i">getUsers</span>() <span class="o">=</span> 
    <span class="k">let</span> <span class="i">context</span> <span class="o">=</span> <span class="i">tableClient</span><span class="o">.</span><span class="i">GetDataServiceContext</span>()
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 28)" onmouseover="showTip(event, 'fs18', 28)" class="i">query</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs18', 29)" onmouseover="showTip(event, 'fs18', 29)" class="i">query</span> { <span class="k">for</span> <span class="i">item</span> <span class="k">in</span> <span class="i">context</span><span class="o">.</span><span class="i">CreateQuery</span><span class="o">&lt;</span><span class="i">MyDvdEntity</span><span class="o">&gt;</span>(<span class="i">``Azure dvd table``</span>) <span class="k">do</span>
                <span class="i">select</span> <span class="i">item</span> }
    <span class="c">// query makes IQueryable, so you can use System.Linq if you want.</span>
    <span onmouseout="hideTip(event, 'fs18', 30)" onmouseover="showTip(event, 'fs18', 30)" class="i">query</span><span class="o">.</span><span class="i">AsTableServiceQuery</span>()<span class="o">.</span><span class="i">Execute</span>()</pre>
</td>
</tr>
</table>

<p><a href="../Readme.html">Takaisin valikkoon</a></p>

          <div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs3">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs4">val skip : count:int -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.skip</div>
<div class="tip" id="fs5">val head : source:seq&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Collections.Seq.head</div>
<div class="tip" id="fs6">Multiple items<br />type MeasureAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; MeasureAttribute<br /><br />Full name: Microsoft.FSharp.Core.MeasureAttribute<br /><br />--------------------<br />new : unit -&gt; MeasureAttribute</div>
<div class="tip" id="fs7">namespace System.Data</div>
<div class="tip" id="fs8">namespace System.Data.Services</div>
<div class="tip" id="fs9">namespace System.Data.Services.Common</div>
<div class="tip" id="fs10">module String<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs11">val set : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.set</div>
<div class="tip" id="fs12">Multiple items<br />type Guid =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : b:byte[] -&gt; Guid + 4 overloads<br />&#160;&#160;&#160;&#160;member CompareTo : value:obj -&gt; int + 1 overload<br />&#160;&#160;&#160;&#160;member Equals : o:obj -&gt; bool + 1 overload<br />&#160;&#160;&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;member ToByteArray : unit -&gt; byte[]<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string + 2 overloads<br />&#160;&#160;&#160;&#160;static val Empty : Guid<br />&#160;&#160;&#160;&#160;static member NewGuid : unit -&gt; Guid<br />&#160;&#160;&#160;&#160;static member Parse : input:string -&gt; Guid<br />&#160;&#160;&#160;&#160;static member ParseExact : input:string * format:string -&gt; Guid<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.Guid<br /><br />--------------------<br />System.Guid()<br />System.Guid(b: byte []) : unit<br />System.Guid(g: string) : unit<br />System.Guid(a: int, b: int16, c: int16, d: byte []) : unit<br />System.Guid(a: uint32, b: uint16, c: uint16, d: byte, e: byte, f: byte, g: byte, h: byte, i: byte, j: byte, k: byte) : unit<br />System.Guid(a: int, b: int16, c: int16, d: byte, e: byte, f: byte, g: byte, h: byte, i: byte, j: byte, k: byte) : unit</div>
<div class="tip" id="fs13">System.Guid.NewGuid() : System.Guid</div>
<div class="tip" id="fs14">namespace Microsoft</div>
<div class="tip" id="fs15">namespace Microsoft.WindowsAzure</div>
<div class="tip" id="fs16">namespace Microsoft.WindowsAzure.StorageClient</div>
<div class="tip" id="fs17">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>
<div class="tip" id="fs18">val query : Linq.QueryBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.query</div>
          
        </div>
        <div class="span1"></div>
      </div>
    </div>
	<br/><div style="color:gray; text-align: center;"><img alt="Creative Commons -k�ytt�lupa" style="border-width:0" src="http://i.creativecommons.org/l/by/4.0/88x31.png" /> Tuomas Hietanen, 2014, <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" style="color:gray;">Creative Commons</a></div>
  </body>
</html>